<html>
    <head>
        <script src="https://kit.fontawesome.com/d528689916.js" crossorigin="anonymous"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/site.scss">

    </head>
<body>
<div class="sidebar">
    <div class="top">
        <div class="profile">
            <div class="profile-circle"></div>
        <h2>Timmertijd</h2>
        </div>
        
        <p class="actions" id="dark-mode-toggle">
           Lichte modus
        </p>
    </div>
    <ul class="menu">
        <li class="active">
            <div class="btn-small">
                <i class="fa-solid fa-home"></i>
            </div>
            <p>Home</p>
        </li>

        <li>
            <div class="btn-small">
                <i class="fa-solid fa-box"></i>
            </div>
            <p>Applicaties & gebruikers</p>
        </li>

        <li>
            <div class="btn-small">
                <i class="fa-solid fa-file-alt"></i>
            </div>
            <p>Facturen & licenties</p>
        </li>

        <li>
            <div class="btn-small">
                <i class="fa-solid fa-user"></i>
            </div>
            <p>User</p>
        </li>
    </ul>
    <ul class="menu bottom">
        <li>
            <div class="btn-small">
                <i class="fa-solid fa-walking"></i>
            </div>
            <p>Uitloggen</p>
        </li>

    </ul>
</div>

<script>
 const darkModeButton = document.getElementById('dark-mode-toggle');
let isDarkMode = localStorage.getItem('darkMode') === 'true';

// Listen for changes to prefers-color-scheme
const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
mediaQuery.addListener(e => {
    if (!isDarkMode) {
        document.body.classList.toggle('dark-mode', e.matches);
    }
});

function toggleDarkMode() {
    isDarkMode = !isDarkMode;

    // Toggle the dark-mode class on the body
    document.body.classList.toggle('dark-mode', isDarkMode);

    localStorage.setItem('darkMode', isDarkMode);

    // Optionally, change the button text
    darkModeButton.textContent = isDarkMode ? "Lighte modus" : "Donkere modus";
}

// Initialize dark mode based on user preference stored in localStorage
if (isDarkMode) {
    document.body.classList.add('dark-mode');
} else {
    const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
    document.body.classList.toggle('dark-mode', prefersDarkScheme);
}

darkModeButton.addEventListener('click', toggleDarkMode);

</script>
</body>
</html>
